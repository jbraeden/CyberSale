<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by Ryan Asper on 2016.04.22 
Copyright Â© 2016 Ryan Asper. All rights reserved.

Most Comments will be in this section in order to keep the xhtml consistent.
This page allows the client to contact the seller, there are 2 main fields that 
are displayed: the subject and the message. This is all followed by a send 
button.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    
    <ui:composition template="./template.xhtml">
        <ui:define name="title">CyberSale - Contact Seller</ui:define>
        
        <ui:define name="metadata">
            <f:metadata>
                <f:viewAction action="#{messageManager.OnLoad(itemManager.id)}" />
            </f:metadata>
        </ui:define>
        
        <!-- Body -->
        <ui:define name="content">
            <div class="body">
                <h:form class="userForm" enctype="multipart/form-data">
                    <h1>Contact Seller</h1>
                    
                    <h3>Seller: #{messageManager.sellerName}</h3>
                    
                    <!-- Message Fields -->
                    <p:panel class="contactForm">
                        <p:messages id="emailError" />
                        
                        <p:outputLabel value="Message Subject:" />
                        <br />
                        <br />
                        
                        <p:inputText id="subjectField" value="#{messageManager.subject}" 
                                     readonly="true" style="background: #e6e6e6;"/>
                        <br />
                        <br />
                        
                        <p:outputLabel value="Message Content:" />
                        <br />
                        <br />
                        
                        <p:editor id="editor" widgetVar="editorWidget" value="#{messageManager.message}" width="600"  height="400"/>
                        <p:dialog header="Content" widgetVar="dlg" showEffect="fade" hideEffect="fade">
                            <h:outputText id="display" value="#{messageManager.message}" escape="false"/>
                        </p:dialog>
                        
                        <div class="formSubmitArea">
                            <p:commandButton id="submitMessage" value="Send Message" update="emailError"
                                             action="#{messageManager.sendMessage()}"/>
                        </div>
                    </p:panel>
                </h:form>
            </div>
        </ui:define>
    </ui:composition>
</html>
